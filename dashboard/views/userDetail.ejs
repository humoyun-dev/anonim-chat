<%- include("partials/layout-top", { title, active }) %>

<div class="container-fluid">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h4 m-0">User <%= userId %> Conversations</h1>
    <a class="btn btn-sm btn-outline-light" href="/users">Back</a>
  </div>

  <% if (partners.length === 0) { %>
  <div class="text-muted">No conversations yet.</div>
  <% } else { %>
  <div class="card border-0" style="background: rgba(15,23,42,0.55); border: 1px solid rgba(255,255,255,0.08) !important;">
    <ul class="list-group list-group-flush">
      <% partners.forEach((partner) => { %>
      <li class="list-group-item d-flex justify-content-between align-items-center" style="background: transparent; color: white; border-color: rgba(255,255,255,0.08);">
        <span>
          <strong><%= partner.firstName || "" %> <%= partner.lastName || "" %></strong>
          <% if (partner.username) { %>
          (@<%= partner.username %>)
          <% } %>
          [ID: <%= partner.userId %>]
        </span>
        <a
          href="/chat/<%= userId %>/<%= partner.userId %>"
          class="btn btn-sm btn-primary"
          >Open Chat</a
        >
      </li>
      <% }); %>
    </ul>
  </div>
  <% } %>
</div>

<%- include("partials/layout-bottom") %>
